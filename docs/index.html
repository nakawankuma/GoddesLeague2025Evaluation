<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goddes Tag League 2025 - 全対戦表</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="main-title">Goddes Tag League 2025</div>
            <div class="subtitle">全対戦表</div>
            <button id="help-btn" class="help-button" title="使い方"><i class="fa-solid fa-question-circle"></i></button>
        </div>
        
        <div class="controls">
            <div class="view-toggle">
                <button class="toggle-button active" onclick="showAllContent()">全表示</button>
                <button class="toggle-button" onclick="showTabView()">タブ表示</button>
            </div>
            <div class="io-controls">
                <button id="download-btn" class="io-button">予想結果をダウンロード</button>
                <button id="upload-btn" class="io-button">予想結果をアップロード</button>
                <input type="file" id="upload-input" accept=".json" style="display: none;">
            </div>
        </div>

        <div class="tabs" id="tabs" style="display: none;">
            <button class="tab red" onclick="showContent('red-goddesses')">RED GODDESSES</button>
            <button class="tab blue" onclick="showContent('blue-goddesses')">BLUE GODDESSES</button>
        </div>
        
        
        
        <div id="red-goddesses" class="content">
        </div>
        
        <div id="blue-goddesses" class="content">
        </div>
        
        
        <div style="margin-top: 20px; text-align: center; color: #666; font-size: 12px;">
            ※ 対戦日程と会場情報<br>
            各セルには対戦日（月.日）と開催会場が表示されています<br><br>
            これはあくまでファンサイトです、正式な情報はスターダムを参照してください。<br>
            <a href="https://wwr-stardom.com/" target="_blank" style="color: #666; text-decoration: underline;">https://wwr-stardom.com/</a>
        </div>
        
        
        <div class="tournament-section">
            <div class="tournament-header">
                <div class="tournament-title">決勝トーナメント</div>
                <div class="tournament-subtitle">Goddes Tag League 2025</div>
            </div>

            
            <div style="width: 100%; margin: 20px auto; background: rgba(255, 255, 255, 0.95); border-radius: 10px; padding: 20px; overflow-x: auto;">
                <svg id="tournament-svg" viewBox="0 0 1200 400" style="width: 100%; min-width: 1200px; height: auto;" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="blueGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#2196F3;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#1976D2;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="redGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#f44336;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#d32f2f;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="goldGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#ffd700;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#ffb300;stop-opacity:1" />
                        </linearGradient>
                    </defs>

                    <!-- BLUE側 -->
                    <!-- 初期配置 -->
                    <rect x="20" y="50" width="180" height="35" fill="url(#blueGradient)" stroke="#1976D2" stroke-width="2" rx="5"/>
                    <text x="110" y="65" text-anchor="middle" fill="white" font-size="12" font-weight="bold">BLUE GODDESSES</text>
                    <text id="bracket-blue-1-rank" x="110" y="80" text-anchor="middle" fill="white" font-size="11">1位</text>

                    <rect x="20" y="140" width="180" height="35" fill="url(#blueGradient)" stroke="#1976D2" stroke-width="2" rx="5"/>
                    <text x="110" y="155" text-anchor="middle" fill="white" font-size="12" font-weight="bold">BLUE GODDESSES</text>
                    <text id="bracket-blue-2-rank" x="110" y="170" text-anchor="middle" fill="white" font-size="11">2位</text>

                    <rect x="20" y="195" width="180" height="35" fill="url(#blueGradient)" stroke="#1976D2" stroke-width="2" rx="5"/>
                    <text x="110" y="210" text-anchor="middle" fill="white" font-size="12" font-weight="bold">BLUE GODDESSES</text>
                    <text id="bracket-blue-3-rank" x="110" y="225" text-anchor="middle" fill="white" font-size="11">3位</text>

                    <!-- 2位 vs 3位決定戦 -->
                    <line x1="200" y1="157.5" x2="270" y2="157.5" stroke="#ffd700" stroke-width="3"/>
                    <line x1="200" y1="212.5" x2="270" y2="212.5" stroke="#ffd700" stroke-width="3"/>
                    <line x1="270" y1="157.5" x2="270" y2="212.5" stroke="#ffd700" stroke-width="3"/>
                    <line x1="270" y1="185" x2="340" y2="185" stroke="#ffd700" stroke-width="3"/>
                    <rect id="blue-semifinal-box" x="270" y="170" width="70" height="30" fill="rgba(100,100,100,0.8)" stroke="#666" stroke-width="2" rx="4" class="tournament-match-box" data-match="blue-semifinal"/>
                    <text x="305" y="185" text-anchor="middle" fill="white" font-size="9">2位/3位</text>
                    <text id="blue-semifinal-result" x="305" y="195" text-anchor="middle" fill="white" font-size="10"></text>

                    <!-- 1位 vs 2位/3位勝者 -->
                    <line x1="200" y1="67.5" x2="410" y2="67.5" stroke="#ffd700" stroke-width="3"/>
                    <line x1="340" y1="185" x2="410" y2="185" stroke="#ffd700" stroke-width="3"/>
                    <line x1="410" y1="67.5" x2="410" y2="185" stroke="#ffd700" stroke-width="3"/>
                    <line x1="410" y1="126" x2="480" y2="126" stroke="#ffd700" stroke-width="3"/>
                    <rect id="blue-final-box" x="410" y="111" width="70" height="30" fill="rgba(100,100,100,0.8)" stroke="#666" stroke-width="2" rx="4" class="tournament-match-box" data-match="blue-final"/>
                    <text x="445" y="126" text-anchor="middle" fill="white" font-size="9">BLUE決勝</text>
                    <text id="blue-final-result" x="445" y="136" text-anchor="middle" fill="white" font-size="10"></text>

                    <!-- RED側 -->
                    <!-- 初期配置 -->
                    <rect x="1000" y="50" width="180" height="35" fill="url(#redGradient)" stroke="#d32f2f" stroke-width="2" rx="5"/>
                    <text x="1090" y="65" text-anchor="middle" fill="white" font-size="12" font-weight="bold">RED GODDESSES</text>
                    <text id="bracket-red-1-rank" x="1090" y="80" text-anchor="middle" fill="white" font-size="11">1位</text>

                    <rect x="1000" y="140" width="180" height="35" fill="url(#redGradient)" stroke="#d32f2f" stroke-width="2" rx="5"/>
                    <text x="1090" y="155" text-anchor="middle" fill="white" font-size="12" font-weight="bold">RED GODDESSES</text>
                    <text id="bracket-red-2-rank" x="1090" y="170" text-anchor="middle" fill="white" font-size="11">2位</text>

                    <rect x="1000" y="195" width="180" height="35" fill="url(#redGradient)" stroke="#d32f2f" stroke-width="2" rx="5"/>
                    <text x="1090" y="210" text-anchor="middle" fill="white" font-size="12" font-weight="bold">RED GODDESSES</text>
                    <text id="bracket-red-3-rank" x="1090" y="225" text-anchor="middle" fill="white" font-size="11">3位</text>

                    <!-- 2位 vs 3位決定戦 -->
                    <line x1="1000" y1="157.5" x2="930" y2="157.5" stroke="#ffd700" stroke-width="3"/>
                    <line x1="1000" y1="212.5" x2="930" y2="212.5" stroke="#ffd700" stroke-width="3"/>
                    <line x1="930" y1="157.5" x2="930" y2="212.5" stroke="#ffd700" stroke-width="3"/>
                    <line x1="930" y1="185" x2="860" y2="185" stroke="#ffd700" stroke-width="3"/>
                    <rect id="red-semifinal-box" x="860" y="170" width="70" height="30" fill="rgba(100,100,100,0.8)" stroke="#666" stroke-width="2" rx="4" class="tournament-match-box" data-match="red-semifinal"/>
                    <text x="895" y="185" text-anchor="middle" fill="white" font-size="9">2位/3位</text>
                    <text id="red-semifinal-result" x="895" y="195" text-anchor="middle" fill="white" font-size="10"></text>

                    <!-- 1位 vs 2位/3位勝者 -->
                    <line x1="1000" y1="67.5" x2="790" y2="67.5" stroke="#ffd700" stroke-width="3"/>
                    <line x1="860" y1="185" x2="790" y2="185" stroke="#ffd700" stroke-width="3"/>
                    <line x1="790" y1="67.5" x2="790" y2="185" stroke="#ffd700" stroke-width="3"/>
                    <line x1="790" y1="126" x2="720" y2="126" stroke="#ffd700" stroke-width="3"/>
                    <rect id="red-final-box" x="720" y="111" width="70" height="30" fill="rgba(100,100,100,0.8)" stroke="#666" stroke-width="2" rx="4" class="tournament-match-box" data-match="red-final"/>
                    <text x="755" y="126" text-anchor="middle" fill="white" font-size="9">RED決勝</text>
                    <text id="red-final-result" x="755" y="136" text-anchor="middle" fill="white" font-size="10"></text>

                    <!-- 優勝決定戦 -->
                    <line x1="480" y1="126" x2="550" y2="126" stroke="url(#goldGradient)" stroke-width="4"/>
                    <line x1="720" y1="126" x2="650" y2="126" stroke="url(#goldGradient)" stroke-width="4"/>
                    <rect id="championship-box" x="550" y="111" width="100" height="30" fill="url(#goldGradient)" stroke="#ff6f00" stroke-width="4" rx="10" class="tournament-match-box" data-match="championship"/>
                    <text x="600" y="126" text-anchor="middle" fill="#1a1a2e" font-size="11" font-weight="bold">FINAL</text>
                    <text id="championship-result" x="600" y="136" text-anchor="middle" fill="#1a1a2e" font-size="10"></text>
                </svg>
            </div>
            
            <!-- 優勝者表示エリア -->
            <div id="champion-display" style="display: none; text-align: center; margin-top: 30px; padding: 20px; background: linear-gradient(45deg, #ffd700, #ffb300); border-radius: 15px; box-shadow: 0 8px 20px rgba(255, 215, 0, 0.4);">
                <div id="champion-text" style="font-size: 3em; font-weight: bold; color: #1a1a2e; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); animation: championGlow 2s ease-in-out infinite alternate;"></div>
            </div>
        </div>
        
        <!-- 優勝者アニメーション用CSS -->
        <style>
            @keyframes championGlow {
                from { 
                    transform: scale(1); 
                    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
                }
                to { 
                    transform: scale(1.05); 
                    text-shadow: 3px 3px 8px rgba(0,0,0,0.5), 0 0 20px rgba(255, 215, 0, 0.6);
                }
            }
            
            /* ヘルプボタンのスタイル */
            .header {
                position: relative;
            }
            
            .help-button {
                position: absolute;
                top: 10px;
                right: 20px;
                background: #2196F3;
                color: white;
                border: none;
                border-radius: 50%;
                width: 40px;
                height: 40px;
                font-size: 18px;
                cursor: pointer;
                box-shadow: 0 4px 8px rgba(33, 150, 243, 0.3);
                transition: all 0.3s ease;
                z-index: 100;
            }
            
            .help-button:hover {
                background: #1976D2;
                transform: scale(1.1);
                box-shadow: 0 6px 12px rgba(33, 150, 243, 0.4);
            }
            
            .help-button:active {
                transform: scale(0.95);
            }
            
            /* ヘルプダイアログのスタイル */
            .help-modal-content {
                max-width: 700px;
                max-height: 80vh;
                overflow-y: auto;
            }
            
            .help-content {
                text-align: left;
                line-height: 1.6;
            }
            
            .help-content h4 {
                color: #2196F3;
                border-bottom: 2px solid #e3f2fd;
                padding-bottom: 5px;
                margin-top: 25px;
                margin-bottom: 15px;
            }
            
            .help-content ul {
                margin: 0 0 20px 0;
                padding-left: 20px;
            }
            
            .help-content li {
                margin-bottom: 10px;
            }
            
            .help-content strong {
                color: #333;
            }
            
            @media (max-width: 768px) {
                #champion-text {
                    font-size: 2em !important;
                }
                
                .help-button {
                    top: 5px;
                    right: 10px;
                    width: 35px;
                    height: 35px;
                    font-size: 16px;
                }
                
                .help-modal-content {
                    max-width: 95%;
                    margin: 10px;
                }
            }
        </style>
        
        <div class="venue-list-section" style="margin-top: 40px; padding: 20px; background: rgba(255, 255, 255, 0.9); border-radius: 10px;">
            <h3 style="text-align: center; font-size: 1.8em; color: #333; margin-bottom: 20px;">日付・会場対応表</h3>
            <table class="schedule-table" style="margin: 0 auto; width: auto; min-width: 400px;">
                <thead>
                    <tr>
                        <th class="red-header">日付</th>
                        <th class="blue-header">会場</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- 動的生成 -->
                </tbody>
            </table>
        </div>
        
        <!-- 確定データダウンロードボタン -->
        <div style="text-align: center; margin-top: 30px; padding: 20px;">
            <button id="download-confirmed-btn" class="io-button" style="background: #4CAF50; border-color: #45a049; font-size: 1.1em; padding: 12px 24px;">確定データをダウンロード</button>
        </div>
    </div>

    
    <div id="schedule-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h3 id="modal-player-name"></h3>
            <div id="modal-schedule-body"></div>
        </div>
    </div>

    <div id="venue-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h3 id="modal-venue-name"></h3>
            <div id="modal-venue-body"></div>
        </div>
    </div>

    <div id="help-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content help-modal-content">
            <span class="modal-close">&times;</span>
            <h3 style="text-align: center; color: #333; margin-bottom: 20px;"><i class="fa-solid fa-question-circle"></i> 使い方ガイド</h3>
            <div class="help-content">
                <h4><i class="fa-solid fa-table"></i> 基本操作</h4>
                <ul>
                    <li><strong>試合結果の入力：</strong>各マッチのセルをクリックして勝敗を設定できます（○勝利、×敗北、△引き分け）</li>
                    <li><strong>結果の表示：</strong>各セルは左右に分かれており、左側に確定結果、右側に予想結果が表示されます</li>
                    <li><strong>確定済み試合：</strong>確定データがある試合はグレー表示となり、予想の変更はできません</li>
                    <li><strong>チームスケジュール：</strong>チーム名をクリックすると個別の対戦スケジュールが表示されます</li>
                    <li><strong>会場別試合：</strong>会場名をクリックするとその日の全試合が表示されます</li>
                </ul>

                <h4><i class="fa-solid fa-trophy"></i> トーナメント機能</h4>
                <ul>
                    <li><strong>ブロック順位確定：</strong>全試合完了時に自動的に順位が確定し、決勝トーナメントに反映されます</li>
                    <li><strong>勝ち点の表示：</strong>各チームの勝ち点は「確定点数(予想点数)」の形式で表示されます</li>
                    <li><strong>トーナメント試合：</strong>決勝トーナメントのボックスをクリックして勝者を設定できます（○×のみ）</li>
                    <li><strong>優勝者表示：</strong>決勝の勝者が決まると自動的に優勝者が大きく表示されます</li>
                </ul>

                <h4><i class="fa-solid fa-download"></i> データの保存・読み込み</h4>
                <ul>
                    <li><strong>予想結果をダウンロード：</strong>現在の予想結果のみをファイルとして保存できます</li>
                    <li><strong>予想結果をアップロード：</strong>保存した予想結果を読み込んで予想を再開できます（確定データとは別に管理されます）</li>
                    <li><strong>確定データをダウンロード：</strong>現在の全結果を確定データとして保存します（公式結果用）</li>
                    <li><strong>データの表示：</strong>予想データと確定データは自動的に区別され、確定データは左側、予想データは右側に表示されます</li>
                </ul>

                <h4><i class="fa-solid fa-eye"></i> 表示切り替え</h4>
                <ul>
                    <li><strong>全表示：</strong>すべてのブロックを同時に表示します</li>
                    <li><strong>タブ表示：</strong>ブロックごとにタブで切り替えて表示します</li>
                </ul>

                <h4><i class="fa-solid fa-info-circle"></i> 補足情報</h4>
                <ul>
                    <li>このサイトはファンサイトです。正式な情報は<a href="https://wwr-stardom.com/" target="_blank" style="color: #2196F3;">スターダム公式サイト</a>をご確認ください</li>
                    <li>予想データと確定データは完全に分離されており、ブラウザのローカルストレージには保存されません。必要に応じてダウンロード機能をご利用ください</li>
                    <li>確定データがある試合は予想の変更ができません（グレー表示）</li>
                    <li>確定データと予想データが両方ある場合、左側に確定結果、右側に予想結果が並んで表示され、予想の的中率を確認できます</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>